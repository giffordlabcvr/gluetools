<div class="modal-header">
	<h4 class="modal-title">
		{{variation.name}}
	</h4>
	<div style="display:table-row;"" >
		<svg width="40px" height="22px" style="display:table-cell; padding-right:5px">
			<rect ng-attr-class="vcat_{{variationCategory.name}}" y="15%" width="100%" height="70%"></rect>
			<rect class="varBox" y="15%" width="100%" height="70%"></rect>
		</svg>
		<div style="display:table-cell; vertical-align: middle;">{{variationCategory.displayName}}</div>
	</div>
</div>
<div class="modal-body">
	<table class="table table-bordered table-striped">
		<tr><td><b>Amino acid pattern:</b></td><td>{{handleNull(variation.pattern)}}</td></tr>
		<tr><td><b>Stage:</b></td><td>{{handleNull(variation.stage)}}</td></tr>
		<tr><td><b>Measurement:</b></td><td>{{handleNull(variation.measurement)}}</td></tr>
		<tr><td><b>Full HLA:</b></td><td>{{handleNull(variation.hla)}}</td></tr>
		<tr><td><b>Effector tissue type:</b></td><td>{{handleNull(variation.effector_tissue_type)}}</td></tr>
		<tr><td><b>Effector cell type:</b></td><td>{{handleNull(variation.effector_cell_type)}}</td></tr>
		<tr><td><b>Effector cell culture condition:</b></td><td>{{handleNull(variation.effector_cell_culture_condition)}}</td></tr>

		<tr ng-show="variation.pubmed_id"><td><b>PubMed:</b></td><td>
			<a href="http://www.ncbi.nlm.nih.gov/pubmed/?term={{variation.pubmed_id}}" target="_blank">
			http://www.ncbi.nlm.nih.gov/pubmed/?term={{variation.pubmed_id}}
			<i class="glyphicon glyphicon-link"></i></a></td></tr>
		<tr ng-show="variation.iedb_id"><td><b>IEDB:</b></td><td>
			<a href="http://www.iedb.org/epitope/{{variation.iedb_id}}" target="_blank">
			http://www.iedb.org/epitope/{{variation.iedb_id}}
			<i class="glyphicon glyphicon-link"></i></a></td></tr>
		<tr><td><b>Defining GLUE reference sequence / feature:</b></td><td>{{variation.referenceSequence}} / {{variation.feature}}</td></tr>
	</table>

	<div ng-show="publicSeqFreqs">
		<h4>Public sequence frequency</h4>
		<p>Percentage of NCBI sequences in different clades which contain this epitope</p>		
		<table class="table table-striped table-nonfluid table-bordered">
			<tr ng-repeat="cladeFreq in publicSeqFreqs track by $index">
				<td><b>{{cladeFreq.alignmentName}}</b></td>
				<td>{{toFixed(cladeFreq.ncbiCuratedFrequencyPct, 2)}} %</td>
			</tr>
		</table>
	</div>
</div>
<div class="modal-footer">
	<button type="button" class="btn btn-primary" ng-click="close()">OK</button>
</div>
