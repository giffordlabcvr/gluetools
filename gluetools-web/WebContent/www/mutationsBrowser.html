<div ng-app="mutationsBrowser">
<h2>Database mutation analysis</h2>

Based on a subset of sequences in the database, show frequencies of amino-acid level mutations at different positions in the genome.

<p></p>

  <accordion close-others="oneAtATime">
    <accordion-group is-open="genotypeSelectOpen">
        <accordion-heading>
            {{genotypeSelectHeading}} [{{GenotypeSelection.label}}]<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': genotypeSelectOpen, 'glyphicon-chevron-right': !genotypeSelectOpen}"></i>
        </accordion-heading>
	    <div ng-controller="selectGenotypeCtrl">
			<div class="row">
				<div class="col-xs-4">
					<div data-angular-treeview="true" data-tree-id="genotypesTree"
						data-tree-model="genotypes" data-default-selected-id="{{defaultSelectedId}}"
						data-default-open-depth="{{defaultOpenDepth}}" data-node-id="id"
						data-node-label="label" data-node-children="children"></div>
				</div>
				<div class="col-xs-4">
					<h4>{{GenotypeSelection.label}}</h4>
					<table ng-show="GenotypeSelection.showSequences" class="table table-bordered table-condensed">
						<tr><td><b>Defining sequences</b></td></tr>
						<tr ng-repeat="seqUrl in GenotypeSelection.sequences">
							<td><a href="{{seqUrl.url}}" target="_blank">{{seqUrl.accession}}</a></td>
						</tr>
					</table>
				</div>
			</div>
		</div>
    </accordion-group>
    <accordion-group is-open="regionSelectOpen">
        <accordion-heading>
            {{regionSelectHeading}} [{{RegionSelection.label}}]<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': regionSelectOpen, 'glyphicon-chevron-right': !regionSelectOpen}"></i>
        </accordion-heading>
	    <div ng-controller="selectRegionCtrl">
			<div class="row">
				<div class="col-xs-4">
					<div data-angular-treeview="true" data-tree-id="regionsTree"
						data-tree-model="regions" data-default-selected-id="{{defaultSelectedId}}"
						data-default-open-depth="{{defaultOpenDepth}}" data-node-id="id"
						data-node-label="label" data-node-children="children"></div>
				</div>
				<div class="col-xs-4">
					<h4>{{RegionSelection.label}}</h4>
					{{RegionSelection.description}}
				</div>
			</div>
		</div>
    </accordion-group>
  </accordion>
  <h3>Mutation frequencies</h3>
  <button type="button" class="btn btn-primary" ng-click="updateMutations()">Update</button>
  <p>
  <table class="table mutationTable">
  	<tr class="mutationTableConsensusIndex">
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td>10</td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td>20</td>
  	</tr>
  	<tr class="mutationTableConsensusAA">
  		<td>A</td>
  		<td>B</td>
  		<td>E</td>
  		<td>W</td>
  		<td>Q</td>
  		<td>T</td>
  		<td>T</td>
  		<td>Y</td>
  		<td>E</td>
  		<td>P</td>
  		<td>A</td>
  		<td>D</td>
  		<td>F</td>
  		<td>D</td>
  		<td>F</td>
  		<td>F</td>
  		<td>G</td>
  		<td>E</td>
  		<td>W</td>
  		<td>A</td>
  	</tr>
  	<tr class="mutationTableNumIsolates">
  		<td>(12823)</td>
  		<td>(12823)</td>
  		<td>(12223)</td>
  		<td>(12823)</td>
  		<td>(12523)</td>
  		<td>(12723)</td>
  		<td>(12823)</td>
  		<td>(12823)</td>
  		<td>(12823)</td>
  		<td>(12923)</td>
  		<td>(12823)</td>
  		<td>(12823)</td>
  		<td>(12223)</td>
  		<td>(12823)</td>
  		<td>(42823)</td>
  		<td>(15823)</td>
  		<td>(12823)</td>
  		<td>(12823)</td>
  		<td>(14823)</td>
  		<td>(12823)</td>
  	</tr>
  	<tr class="mutationAA">
  		<td></td>
  		<td>A<sup>23.4</sup></td>
  		<td>D<sup>19.5</sup></td>
  		<td></td>
  		<td></td>
  		<td>D<sup>3.4</sup></td>
  		<td>R<sup>28.4</sup></td>
  		<td></td>
  		<td></td>
  		<td>O<sup>12.7</sup></td>
  		<td></td>
  		<td></td>
  		<td>Q<sup>2.1</sup></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td>R<sup>6.5</sup></td>
  		<td>E<sup>18.3</sup></td>
  		<td></td>
  		<td></td>
  	</tr>
  	<tr class="mutationAA">
  		<td></td>
  		<td>Y<sup>3.9</sup></td>
  		<td>G<sup>2.5</sup></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td>I<sup>8.3</sup></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td>F<sup>4.2</sup></td>
  		<td></td>
  		<td></td>
  		<td></td>
  	</tr>
  	<tr class="mutationAA">
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td>J<sup>5.2</sup></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  		<td></td>
  	</tr>
  </table>
  
  
</div>
